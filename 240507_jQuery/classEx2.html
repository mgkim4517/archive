<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>classEx2</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">

  <style>
    .wrapper {
      position: relative;
    }

    .wrapper .txt-wrapper {
      /* background-color: #ddd; */
      position: absolute;
      top: 0; left: 0;
    }

    .wrapper .txt-wrapper span {
      color: #aa8383;
      font-weight: bold;
      display: block;
      transition: 0.4s;
      transform: translateY(30px);
      opacity: 0;
    }

    .wrapper .txt-wrapper h2 {
      color: #945757;
      font-size: 3rem;
      margin: 10px 0;
      line-height: 0.9;
      transition: 1s 0.8s; /* 진행시간 1초 대기시간 0.8초 */
      transform: translateY(50px);
      opacity: 0;
    }

    .wrapper .txt-wrapper.active span,
    .wrapper .txt-wrapper.active h2 {
      opacity: 1;
      transform: translateY(0);
    }
  </style>

  <script src="../assets/jquery-3.7.1.min.js"></script>

</head>

<body>
  <div class="wrapper">
    <div class="txt-wrapper active">
      <span>about</span>
      <h2>think &<br>solution</h2>
    </div>
    <div class="txt-wrapper">
      <span>skill</span>
      <h2>html & css<br>JavaScript</h2>
    </div>
    <div class="txt-wrapper">
      <span>contact</span>
      <h2>jQuery</h2>
    </div>
  </div>

  <script>
    /* 
      setTimeout(콜백함수, 시간);
      setInterval(() => {}, 1000);
    */

    $(function() {
    /*
      let nextIdx = 0;
      setInterval(() => {
        //  nextIdx에 0, 1, 2 순환
        nextIdx = (nextIdx + 1) % $('.wrapper .txt-wrapper').length; // $('.wrapper .txt-wrapper').length = 3

        $('.wrapper .txt-wrapper').removeClass('active');
        $('.wrapper .txt-wrapper').eq(nextIdx).addClass('active');
      }, 2000);
    */

    function movingText(num) {
      // 0, 1, 2 인덱스가 자동으로 순환
      const nextIdx = (num + 1) % $('.wrapper .txt-wrapper').length; // $('.wrapper .txt-wrapper').length = 3

      /*
      $('.wrapper .txt-wrapper').removeClass('active');
      $('.wrapper .txt-wrapper').eq(nextIdx).addClass('active');
      */
      $('.wrapper .txt-wrapper').removeClass('active').eq(nextIdx).addClass('active');

      setTimeout(() => movingText(nextIdx), 2000); // 2초마다 movingText() 실행
    }

    movingText(0);
    });
  </script>
</body>
</html>